<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Adopt a Pet | PetVerse</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ‚úÖ CSS (Flask-compatible) -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <!-- ‚úÖ JS (Flask-compatible) -->
  <script src="{{ url_for('static', filename='translation.js') }}"></script>
  <script src="{{ url_for('static', filename='auth.js') }}"></script>
</head>

<body>

<!-- ‚úÖ NAVBAR -->
<nav class="navbar">
  <div class="logo">PetVerse üêæ</div>
  <ul>
    <li><a href="{{ url_for('home') }}" data-i18n="nav_home">Home</a></li>
    <li><a href="{{ url_for('render_page', page='pets') }}" data-i18n="nav_adopt">Adopt</a></li>
    <li><a href="{{ url_for('render_page', page='volunteer') }}" data-i18n="nav_volunteer">Volunteer</a></li>
    <li><a href="{{ url_for('render_page', page='donate') }}" data-i18n="nav_donate">Donate</a></li>
    <li><a href="{{ url_for('render_page', page='community') }}" data-i18n="nav_community">Community</a></li>
    <li><a href="{{ url_for('render_page', page='lost-found') }}" data-i18n="nav_lost_found">Lost & Found</a></li>
    <li><a href="{{ url_for('render_page', page='login') }}" id="loginLink" data-i18n="nav_login">Login / Signup</a></li>
    <li><a href="{{ url_for('render_page', page='myadoptions') }}" data-i18n="nav_my_adoptions">My Adoptions</a></li>

    <li id="logoutItem" style="display: none;">
      <a href="javascript:void(0)" id="logoutLink" data-i18n="nav_logout">Logout</a>
    </li>

    <li>
      <select id="languageSelect" onchange="changeLanguage(this.value)"
        style="background: var(--primary-light); color: white; border: none; padding: 0.5rem; border-radius: var(--radius);">
        <option value="en">English</option>
        <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
      </select>
    </li>
  </ul>
</nav>

<!-- ‚úÖ MAIN CONTENT -->
<h1 style="text-align:center; margin-top:30px;">Adoption Request Form</h1>

<form id="adoptForm" style="
  max-width:450px;
  margin:30px auto;
  background:#fff;
  padding:20px;
  border-radius:12px;
  box-shadow:0 4px 15px rgba(0,0,0,0.1);">

  <label>Your Name:</label>
  <input type="text" id="name" required class="form-control"><br>

  <label>Your Email:</label>
  <input type="email" id="email" required class="form-control"><br>

  <label>Pet ID:</label>
  <input type="number" id="petId" required class="form-control"><br>

  <button type="submit" class="primary-btn" style="width:100%;margin-top:10px;">
    Submit Request
  </button>
</form>

<p id="message" style="text-align:center;font-size:18px;color:var(--primary);"></p>

<script>
document.getElementById('adoptForm').addEventListener('submit', async (e) => {
  e.preventDefault();

  const user_name = document.getElementById('name').value;
  const pet_id = document.getElementById('petId').value;

  const res = await fetch('/api/adopt', {
    method: 'POST',
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({ user_name, pet_id })
  });

  const data = await res.json();
  document.getElementById('message').innerText = data.message || 'Request sent!';
});
</script>

<!-- ‚úÖ FLOATING CHATBOT ICON -->
<div id="chatbotFloatingIcon"
     style="width:60px;height:60px;background:linear-gradient(135deg,#9b59b6,#c39bd3);
     border-radius:50%;position:fixed;bottom:25px;right:25px;
     display:none;justify-content:center;align-items:center;cursor:pointer;
     box-shadow:0 5px 15px rgba(0,0,0,0.3);z-index:9999;">
  <span style="font-size:28px;">ü§ñ</span>
</div>

<!-- ‚úÖ CHATBOT PANEL -->
<div id="chatbotPanel"
     style="width:350px;height:500px;background:white;border-radius:20px;
     position:fixed;bottom:100px;right:25px;display:none;
     flex-direction:column;overflow:hidden;box-shadow:0 8px 25px rgba(0,0,0,0.25);
     z-index:10000;">

  <!-- Header -->
  <div style="padding:15px;background:#9b59b6;color:white;
              display:flex;align-items:center;gap:10px;">
    <img src="https://cdn-icons-png.flaticon.com/512/620/620851.png"
         style="width:36px;height:36px;border-radius:50%;border:2px solid white;">
    <strong>PetVerse AI Assistant üêæ</strong>
  </div>

  <!-- Messages -->
  <div id="chatMessagesAI"
       style="flex:1;padding:10px;overflow-y:auto;background:#f8f0ff;"></div>

  <!-- Input -->
  <div style="padding:10px;background:white;display:flex;gap:8px;">
    <input id="chatInputAI" type="text" placeholder="Type your message‚Ä¶"
           style="flex:1;padding:10px;border-radius:15px;border:1px solid #d5c4e6;">
    <button id="sendChatBtnAI"
            style="background:#9b59b6;color:white;border:none;padding:10px 14px;
            border-radius:14px;">‚û§</button>
  </div>
</div>

<!-- ‚úÖ JS (Flask paths) -->
<script src="{{ url_for('static', filename='chatbot_floating.js') }}"></script>
<script src="{{ url_for('static', filename='header.js') }}"></script>

</body>
</html>
